# Go実装 開発ルール

## ディレクトリ構造

```
go/
├── cmd/           # 各種コマンドのエントリーポイント
│   ├── play/      # 手動プレイ用
│   ├── autoplay/  # 自動プレイ用
│   └── analyze/   # 盤面分析用
├── internal/      # 内部実装
│   ├── domain/    # ドメインモデル（ゲームロジック、ソルバー）
│   └── usecase/   # ユースケース層（UI制御）
└── go.mod         # モジュール定義
```

## コーディング規約

### パッケージ構成
- `domain`: ゲームの核となるロジック、評価関数、ソルバー
- `usecase`: CLIとの対話、表示制御

### テスト
- 各ドメインロジックには対応するテストファイルを作成
- テスト実行: `go test ./...`

### ビルド
```bash
# 各コマンドのビルド
go build ./cmd/play
go build ./cmd/autoplay
go build ./cmd/analyze
```

## 実装の特徴

### BitBoard
- 64ビット整数で盤面を表現
- 各セル4ビット（0-15の値を格納）
- ビット演算による高速化

### 評価関数
- `Evaluator`インターフェースで統一
- 複数の評価戦略を実装可能

### ソルバー
- Expectimaxアルゴリズムベース
- 通常版、BitBoard版、A*版を実装